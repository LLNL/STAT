#!/bin/sh
# @configure_input@
export prefix=@prefix@
export exec_prefix=@exec_prefix@

if test -n "$STAT_PREFIX" ; then
    export prefix=$STAT_PREFIX
fi

if test -z $LD_LIBRARY_PATH
then
	export LD_LIBRARY_PATH=$prefix/lib
else
	export LD_LIBRARY_PATH=$prefix/lib:$LD_LIBRARY_PATH
fi

if test -n "$STAT_MOM_NODE"; then
  export ESWRAP_LOGIN=$STAT_MOM_NODE
fi

if test -n "$ESWRAP_LOGIN"; then
  ssh -X -q $ESWRAP_LOGIN "cd `pwd`; $0 $@"
  exit
fi

if test -z "$STAT_LMON_REMOTE_LOGIN" ; then
    export STAT_LMON_REMOTE_LOGIN=@rshcmd@
fi
if test -z "$STAT_XPLAT_RSH" ; then
    export STAT_XPLAT_RSH=@rshcmd@
fi
if test -z "$STAT_GDB" ; then
    export STAT_GDB=@gdbcmd@
fi
if test -z "$STAT_FGFS_FILTER_PATH" ; then
    if test -n "$FGFS_PREFIX" ; then
        export STAT_FGFS_FILTER_PATH=$FGFS_PREFIX/lib/libfgfs_filter.so
    else
        export STAT_FGFS_FILTER_PATH=@FGFSFILTERPATH@
    fi
fi
if test -z "$STAT_MRNET_COMM_PATH" ; then
    if test -n "$MRNET_PREFIX" ; then
        export STAT_MRNET_COMM_PATH=$MRNET_PREFIX/bin/mrnet_commnode
    else
        export STAT_MRNET_COMM_PATH=$prefix/bin/mrnet_commnode
    fi
fi
if test -z "$STAT_LMON_PREFIX" ; then
    if test -n "$LMON_PREFIX" ; then
        export STAT_LMON_PREFIX=$LMON_PREFIX
    else
        export STAT_LMON_PREFIX=$prefix
    fi
fi
if test -z "$STAT_LMON_LAUNCHMON_ENGINE_PATH" ; then
    if test -n "$LMON_PREFIX" ; then
        export STAT_LMON_LAUNCHMON_ENGINE_PATH=$LMON_PREFIX/bin/launchmon
    else
        export STAT_LMON_LAUNCHMON_ENGINE_PATH=$prefix/bin/launchmon
    fi
fi
if test -z "$STAT_LMON_NEWLAUNCHMON_ENGINE_PATH" ; then
    if test -n "$LMON_PREFIX" ; then
        export STAT_LMON_NEWLAUNCHMON_ENGINE_PATH=$LMON_PREFIX/bin/newlaunchmon
    else
        export STAT_LMON_NEWLAUNCHMON_ENGINE_PATH=@NEWLAUNCHMONBIN@
    fi
fi
if test -z "$DYNINSTAPI_RT_LIB" ; then
    if test -n "$STACKWALKER_PREFIX" ; then
        export DYNINSTAPI_RT_LIB=$STACKWALKER_PREFIX/lib/libdyninstAPI_RT.so
    else
        export DYNINSTAPI_RT_LIB=$prefix/lib/libdyninstAPI_RT.so
    fi
fi
if test -z "$STAT_MRNET_DEBUG_LOG_DIRECTORY" ; then
    export STAT_MRNET_DEBUG_LOG_DIRECTORY=/dev/null
fi
if test -z "$STAT_CONNECT_TIMEOUT" ; then
    export STAT_CONNECT_TIMEOUT=600
fi
if test -z "$LMON_FE_ENGINE_TIMEOUT" ; then
    export LMON_FE_ENGINE_TIMEOUT=600
fi

export LIBALPS_ENABLE_DSL=1
export STAT_DAEMON_PATH=$prefix/bin/STATD
export STAT_FILTER_PATH=$prefix/lib/STAT_FilterDefinitions.so
export PATH=$PATH:$prefix/bin
export PYTHONPATH=@pythondir@:@pyexecdir@:@PYTHONPATH@

exec @STATPYTHON@ @pythondir@/STATmain.py gui $@
